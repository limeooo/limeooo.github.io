"use strict";(self["webpackChunk_2023_5_15"]=self["webpackChunk_2023_5_15"]||[]).push([[161],{8161:function(t,e,l){l.r(e),l.d(e,{default:function(){return V}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"duxiu"},[e("search"),e("default-table"),e("edialog")],1)},i=[],o=function(){var t=this,e=t._self._c;return e("card",[e("el-form",{ref:"form",attrs:{model:t.fillData}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入服务名称"},model:{value:t.fillData.name,callback:function(e){t.$set(t.fillData,"name",e)},expression:"fillData.name"}})],1),e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入IP地址"},model:{value:t.fillData.ip,callback:function(e){t.$set(t.fillData,"ip",e)},expression:"fillData.ip"}})],1),e("el-form-item",[e("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:t.fillData.type,callback:function(e){t.$set(t.fillData,"type",e)},expression:"fillData.type"}},[e("el-option",{attrs:{label:"选项一",value:1}}),e("el-option",{attrs:{label:"选项二",value:2}})],1)],1),e("el-form-item",{staticStyle:{"text-align":"right"}},[e("el-button",{staticStyle:{color:"#1890ff","border-color":"#1890ff"}},[t._v(" 添加 ")]),e("el-button",{attrs:{type:"primary"}},[t._v("检索")])],1)],1)],1)},r=[],s={name:"DuxiuSearch",data(){return{fillData:{name:"",ip:"",type:""}}}},n=s,c=l(1001),p=(0,c.Z)(n,o,r,!1,null,null,null),u=p.exports,f=function(){var t=this,e=t._self._c;return e("card",[e("el-table",{attrs:{border:"",stripe:"",data:t.tableData}},[e("el-table-column",{attrs:{type:"index",align:"center",label:"序号"}}),e("el-table-column",{attrs:{prop:"name",align:"center",label:"服务名称"}}),e("el-table-column",{attrs:{prop:"ip",align:"center",label:"IP"}}),e("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#1890FF","inactive-color":"#ff4949"},model:{value:l.row.status,callback:function(e){t.$set(l.row,"status",e)},expression:"scope.row.status"}})]}}])}),e("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("div",{staticClass:"button-box"},[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.$Bus.$emit("openDialog",l.row.id,"operation")}}},[t._v(" 操作 ")]),e("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){return t.$Bus.$emit("openDialog",l.row.id,"rollback")}}},[t._v(" 回滚 ")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$Bus.$emit("openDialog",l.row.id,"edit")}}},[t._v(" 编辑 ")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.$Bus.$emit("openDialog",l.row.id,"delete")}}},[t._v(" 删除 ")])],1)]}}])})],1),t.pageInfo.total>0?e("div",{staticClass:"pagination"},[e("div",{staticClass:"pre",class:{disabled:1===t.pageInfo.currentPage}},[t._v(" 上一页 ")]),e("div",{staticClass:"pager"},[t._v(" "+t._s(`${t.pageInfo.currentPage}/${Math.ceil(t.pageInfo.total/10)}`)+" ")]),e("div",{staticClass:"next",class:{disabled:t.pageInfo.currentPage===Math.ceil(t.pageInfo.total/10)}},[t._v(" 下一页 ")])]):t._e()],1)},d=[],b={name:"DuxiuTable",data(){return{pageInfo:{currentPage:1,total:56},tableData:[{name:"读秀tomcat",type:"tomcat",ip:"192.168.100.230",status:1},{name:"读秀tomcat",type:"tomcat",ip:"192.168.100.230",status:0},{name:"读秀tomcat",type:"tomcat",ip:"192.168.100.230",status:1}]}}},m=b,v=(0,c.Z)(m,f,d,!1,null,"fa500c72",null),g=v.exports,D=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.titleInfo[t.type],visible:t.dialogVisible,width:"92%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"form",attrs:{"label-position":"right",rules:t.rules,model:t.fillData,"label-width":"1.3rem"}},["operation"===t.type?[e("div",{staticClass:"operation"},[e("el-row",{staticClass:"top",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:18}},[e("el-form-item",{attrs:{label:"脚本路径",prop:"script_path"}},[e("el-input",{attrs:{placeholder:"请输入脚本路径"},model:{value:t.fillData.script_path,callback:function(e){t.$set(t.fillData,"script_path",e)},expression:"fillData.script_path"}})],1)],1),e("el-col",{attrs:{span:5}},[e("el-button",{attrs:{type:"primary"}},[t._v("保存")])],1)],1),e("el-row",{staticClass:"middle"},[e("el-button",{attrs:{type:"primary"}},[t._v("添加")]),e("el-button",{attrs:{type:"danger"}},[t._v("删除")]),e("el-table",{staticClass:"table",attrs:{border:"",stripe:"",data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",align:"center"}}),e("el-table-column",{attrs:{type:"index",align:"center",label:"序号"}}),e("el-table-column",{attrs:{prop:"ip",align:"center",label:"IP"}}),e("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleTableItemEdit(l.row.id)}}},[t._v(" 编辑 ")])]}}],null,!1,1882028633)})],1)],1),e("el-row",{staticClass:"bottom",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:17}},[e("el-select",{attrs:{placeholder:"请选择操作类型"},model:{value:t.fillData.type,callback:function(e){t.$set(t.fillData,"type",e)},expression:"fillData.type"}},[e("el-option",{attrs:{label:"选项一",value:1}}),e("el-option",{attrs:{label:"选项二",value:2}})],1)],1),e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{type:"primary"}},[t._v("操作")])],1)],1)],1)]:t._e(),"rollback"===t.type?[e("el-form-item",{attrs:{label:"版本号",prop:"version"}},[e("el-input",{attrs:{placeholder:"请输入版本号"},model:{value:t.fillData.version,callback:function(e){t.$set(t.fillData,"version",e)},expression:"fillData.version"}})],1),e("el-form-item",{attrs:{label:"路径",prop:"path"}},[e("el-input",{attrs:{placeholder:"请输入路径"},model:{value:t.fillData.path,callback:function(e){t.$set(t.fillData,"path",e)},expression:"fillData.path"}})],1),e("el-form-item",{attrs:{label:"域名",prop:"domain"}},[e("el-input",{attrs:{placeholder:"请输入域名"},model:{value:t.fillData.domain,callback:function(e){t.$set(t.fillData,"domain",e)},expression:"fillData.domain"}})],1),e("el-form-item",{attrs:{label:"服务器",prop:"server"}},[e("el-input",{attrs:{placeholder:"请输入服务器"},model:{value:t.fillData.server,callback:function(e){t.$set(t.fillData,"server",e)},expression:"fillData.server"}})],1)]:t._e(),"edit"===t.type?[e("el-form-item",{attrs:{label:"服务名称",prop:"server_name"}},[e("el-input",{attrs:{placeholder:"读秀tomcat"},model:{value:t.fillData.server_name,callback:function(e){t.$set(t.fillData,"server_name",e)},expression:"fillData.server_name"}})],1),e("el-form-item",{attrs:{label:"应用类型",prop:"type"}},[e("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:t.fillData.type,callback:function(e){t.$set(t.fillData,"type",e)},expression:"fillData.type"}},[e("el-option",{attrs:{label:"选项一",value:1}}),e("el-option",{attrs:{label:"选项二",value:2}})],1)],1),e("el-form-item",{attrs:{label:"IP",prop:"ip"}},[e("el-input",{attrs:{placeholder:"请输入IP地址"},model:{value:t.fillData.ip,callback:function(e){t.$set(t.fillData,"ip",e)},expression:"fillData.ip"}})],1),e("el-form-item",{attrs:{label:"状态",prop:"status"}},[e("el-switch",{staticStyle:{padding:"0.14rem 0 0 0.08rem"},attrs:{"active-value":1,"inactive-value":0,"active-color":"#1890FF","inactive-color":"#ff4949"},model:{value:t.fillData.status,callback:function(e){t.$set(t.fillData,"status",e)},expression:"fillData.status"}})],1)]:t._e(),"delete"===t.type?[e("p",{staticClass:"delete"},[t._v("确定删除该记录？")])]:t._e()],2),["rollback","edit","delete"].includes(t.type)?e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleConfirmDialog()}}},[t._v(" 操作 ")]),e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1):t._e(),e("el-dialog",{attrs:{width:"92%",title:"提示",visible:t.innerDialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerDialogVisible=e}}},[e("p",{staticClass:"delete"},[t._v(" 确定删除该记录？确定删除该记录？确定删除该记录？确定删除该记录？ ")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleDeleteRecord()}}},[t._v(" 操作 ")]),e("el-button",{on:{click:function(e){t.innerDialogVisible=!1}}},[t._v("取消")])],1)])],1)},h=[],y=l(5941),_={name:"DuxiuDialog",data(){return{type:"operation",dialogVisible:!1,innerDialogVisible:!1,titleInfo:{operation:"读秀tomcat",rollback:"服务回滚",edit:"编辑",delete:"提示"},fillData:{},tableData:[{ip:"192.168.100.230"},{ip:"192.168.100.230"},{ip:"192.168.100.230"},{ip:"192.168.100.230"}],rules:{server_name:[{required:!0,message:"请输入服务名称",trigger:"blur"}],type:[{required:!0,message:"请选择应用类型",trigger:"blur"}],ip:[{required:!0,message:"请输入IP地址",trigger:"blur"}]}}},created(){this.$Bus.$on("openDialog",((t,e)=>{this.type=e,this.dialogVisible=!0}))},methods:{handleConfirmDialog(){"operation"===this.type&&y.log("operation"),"rollback"===this.type&&y.log("rollback"),"edit"===this.type&&y.log("edit"),"delete"===this.type&&(this.innerDialogVisible=!0),this.dialogVisible=!1},handleDeleteRecord(){this.innerDialogVisible=!1},handleSelectionChange(t){y.log("选择项",t)},handleTableItemEdit(t){y.log("编辑项",t)}}},k=_,x=(0,c.Z)(k,D,h,!1,null,"15b5e492",null),$=x.exports,w={name:"Duxiu",components:{Search:u,DefaultTable:g,Edialog:$}},C=w,I=(0,c.Z)(C,a,i,!1,null,null,null),V=I.exports}}]);
//# sourceMappingURL=161.13aa8787.js.map